"""Tests for dependency configuration sanity."""

from __future__ import annotations

import tomllib
from pathlib import Path

PROJECT_ROOT = Path(__file__).resolve().parent.parent


def test_dev_dependency_versions_are_realistic() -> None:
    """Ensure dev dependencies pin to realistic, currently available versions."""

    data = tomllib.loads((PROJECT_ROOT / "pyproject.toml").read_text(encoding="utf-8"))
    dev_deps: list[str] = data["dependency-groups"]["dev"]

    expected = [
        "black>=25.9.0",
        "isort>=7.0.0",
        "mypy>=1.18.2",
{%- if include_pre_commit %}
        "pre-commit>=4.3.0",
{%- endif %}
        "pylint>=4.0.2",
        "pytest>=8.4.2",
        "pytest-cov>=7.0.0",
        "pytest-mock>=3.15.1",
        "ruff>=0.14.3",
    ]

    assert dev_deps == expected
