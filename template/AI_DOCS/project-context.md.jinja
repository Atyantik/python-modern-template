# Project Context & Architecture

> **Shared documentation for all AI coding assistants**
>
> This file is referenced by multiple AI tool configurations. Changes here automatically apply to all tools that support file references.

## ğŸ“‹ Project Overview

**Name**: Modern Python Project Template
**Version**: 1.0.0
**License**: MIT
**Description**: A Copier-powered template that ships modern Python tooling, automated quality gates, and AI-assisted development workflows in one starter repository.

**Purpose**: Provide a batteries-included baseline for new Python projects. Teams can generate a fresh codebase with type checking, testing, documentation, and AI workflows already wired up.

## ğŸ› ï¸ Technology Stack

### Core Technologies

| Technology | Version | Purpose |
|------------|---------|---------|
| **Python** | 3.11+ (3.13 recommended) | Primary language |
| **uv** | Latest | Fast dependency & environment management |
| **setuptools** | â‰¥61.0 | Build system |

### Development Tools

| Tool | Version | Purpose |
|------|---------|---------|
| **Black** | â‰¥24.8.0 | Code formatter |
| **isort** | â‰¥5.13.2 | Import sorter |
| **Ruff** | â‰¥0.6.5 | Fast linter & formatter |
| **mypy** | â‰¥1.11.2 | Static type checker (strict) |
| **Pylint** | â‰¥3.2.7 | Additional lint coverage |
| **pytest** | â‰¥8.3.3 | Testing framework |
| **pytest-cov** | â‰¥4.1.0 | Coverage reporting |
| **pytest-mock** | â‰¥3.14.0 | Pytest mocking helpers |
| **pre-commit** | â‰¥3.8.0 | Git hook orchestration |

## ğŸ“ Project Structure

```
{{ project_name }}/
â”œâ”€â”€ AI_DOCS/                    # Shared AI documentation (2025 standard)
â”‚   â”œâ”€â”€ README.md               # Documentation overview
â”‚   â”œâ”€â”€ tdd-workflow.md         # TDD process and testing
â”‚   â”œâ”€â”€ ai-tools.md             # AI session management
â”‚   â”œâ”€â”€ code-conventions.md     # Code style and standards
â”‚   â””â”€â”€ project-context.md      # This file - tech stack & architecture
â”‚
â”œâ”€â”€ src/
â”‚   â””â”€â”€ {{ package_name }}/
â”‚       â”œâ”€â”€ __init__.py         # Package exports & version
â”‚       â””â”€â”€ main.py             # CLI entry point / demo logic
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py             # Shared pytest fixtures
â”‚   â”œâ”€â”€ test_main.py            # Tests for the template package
â”‚   â”œâ”€â”€ ai_tools/               # Regression tests for AI helpers
â”‚   â””â”€â”€ quality/                # Regression tests for quality tooling
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ ai_tools/               # AI session management CLI tools
â”‚   â””â”€â”€ quality/                # Format / lint / test orchestrators
â”‚
â”œâ”€â”€ .ai-context/                # AI session tracking (git-tracked)
â”‚   â”œâ”€â”€ REQUIRED_READING.md     # Master checklist for AI agents
â”‚   â”œâ”€â”€ LAST_SESSION_SUMMARY.md # Most recent session summary
â”‚   â”œâ”€â”€ ACTIVE_TASKS.md         # Tasks currently in progress
â”‚   â”œâ”€â”€ RECENT_DECISIONS.md     # Architectural decisions
â”‚   â”œâ”€â”€ CONVENTIONS.md          # Code patterns and standards
â”‚   â””â”€â”€ sessions/               # Session artifacts (local only)
â”‚
â”œâ”€â”€ .github/                    # CI/CD configuration
â”œâ”€â”€ docs/                       # Optional MkDocs documentation site
â”œâ”€â”€ examples/                   # Generated reference projects
â”œâ”€â”€ Makefile                    # Common developer commands
â”œâ”€â”€ pyproject.toml              # Unified project configuration
â”œâ”€â”€ uv.lock                     # Locked dev dependencies
â””â”€â”€ README.md                   # Repository overview
```

## ğŸ¯ Package Architecture

```python
# src/{{ package_name }}/__init__.py
"""Modern Python template package."""

__version__ = "1.0.0"
__author__ = "Atyantik Technologies Private Limited"
__email__ = "contact@atyantik.com"

from .main import main

__all__ = ["__version__", "__author__", "__email__", "main"]
```

### Import Pattern

```python
# âœ… Correct - import from the package root
from {{ package_name }} import main

# âŒ Wrong - never use src prefix or mix in legacy module names
from src.{{ package_name }} import main
from legacy_project import generate_blog
```

## ğŸ”§ Configuration

All tool configuration lives in `pyproject.toml`.

### Quality Configuration

```toml
[tool.quality]
code_paths = ["src", "tests", "scripts"]
test_paths = ["tests"]
min_coverage = 80
```

### Tool Highlights

- **Black**: 88 character lines, Python 3.13 target.
- **isort**: Black profile for import sorting.
- **Ruff**: Primary linter with opinionated plugins enabled.
- **mypy**: Strict type checking with relaxed rules for bundled AI tooling.
- **Pylint**: Secondary lint gate, ignoring autogenerated tests and AI tools.

## ğŸš¢ Workflows

### Local Development

1. `make install` â€“ Sync dependencies and install pre-commit hooks.
2. TDD loop: write test â†’ `make test` â†’ implement â†’ repeat.
3. `make check` â€“ Runs format, lint, tests with coverage in one pass.
4. `make pre-commit` â€“ Optional manual run of pre-commit checks.

### AI Session Management

- `uv run ai-start-task "Task description"` â€“ Start a tracked session.
- `uv run ai-log "Progress update"` â€“ Record significant milestones.
- `uv run ai-update-plan "Completed step"` â€“ Keep plan in sync.
- `uv run ai-finish-task --summary="..."` â€“ Close out the session.

## ğŸš¦ Quality Gates

Before merging changes:

1. âœ… All tests pass (`make test`).
2. âœ… Coverage â‰¥ 80% (`make coverage`).
3. âœ… Formatting and linting clean (`make check`).
4. âœ… Pre-commit hooks pass locally (`make pre-commit`).
5. âœ… Documentation updated when behavior changes.
6. âœ… AI session properly finished (`ai-finish-task`).

## ğŸ¯ Future Enhancements

Potential roadmap items for the template itself:

- Add optional integrations for FastAPI, Typer CLI, and data science stacks.
- Provide opinionated CI presets for GitLab, Azure DevOps, and Bitbucket.
- Ship cookiecutter-compatible configuration alongside Copier defaults.
- Include templates for dependency update automation (Dependabot, Renovate).
- Expand AI tooling with automated context summaries after each session.

## ğŸ“š Additional Resources

- **Python 3.13 Docs**: https://docs.python.org/3.13/
- **uv Documentation**: https://github.com/astral-sh/uv
- **pytest Documentation**: https://docs.pytest.org/
- **Black Documentation**: https://black.readthedocs.io/
- **Ruff Documentation**: https://docs.astral.sh/ruff/
- **mypy Documentation**: https://mypy.readthedocs.io/

---

**Remember**: This template emphasizes quality over speed. Follow the TDD workflow, keep coverage high, and leverage the AI tooling to maintain shared context.
